{"entities": [{"name": "Controlled Dynamic Web-app Cluster", "type": "org.apache.brooklyn.entity.webapp.ControlledDynamicWebAppCluster", "iconUrl": "", "effectors": [{"returnType": "void", "name": "deploy", "parameters": [{"defaultValue": null, "type": "java.lang.String", "name": "url", "description": "URL of WAR file"}, {"defaultValue": null, "type": "java.lang.String", "name": "targetName", "description": "context path where WAR should be deployed (/ for ROOT)"}], "description": "Deploys the given artifact, from a source URL, to a given deployment filename/context"}, {"returnType": "void", "name": "redeployAll", "parameters": [], "description": "Redeploys all web apps known here across the cluster (e.g. if it gets into an inconsistent state)"}, {"returnType": "java.lang.String", "name": "replaceMember", "parameters": [{"defaultValue": null, "type": "java.lang.String", "name": "memberId", "description": "The entity id of a member to be replaced"}], "description": "Replaces the entity with the given ID, if it is a member; first adds a new member, then removes this one. Returns id of the new entity; or throws exception if couldn't be replaced."}, {"returnType": "void", "name": "rescanEntities", "parameters": [], "description": "Rescans all entities to determine whether they match the configured filter."}, {"returnType": "java.lang.Integer", "name": "resize", "parameters": [{"defaultValue": null, "type": "java.lang.Integer", "name": "desiredSize", "description": "The new size of the cluster"}], "description": "Changes the size of the entity (e.g. the number of nodes in a cluster)"}, {"returnType": "void", "name": "restart", "parameters": [], "description": "Restart the process/service represented by an entity"}, {"returnType": "void", "name": "start", "parameters": [{"defaultValue": null, "type": "java.lang.Object", "name": "locations", "description": "The location or locations to start in, as a string, a location object, a list of strings, or a list of location objects"}], "description": "Start the process/service represented by an entity"}, {"returnType": "void", "name": "stop", "parameters": [], "description": "Stop the process/service represented by an entity"}, {"returnType": "void", "name": "undeploy", "parameters": [{"defaultValue": null, "type": "java.lang.String", "name": "targetName"}], "description": "Undeploys the given context/artifact"}], "sensors": [{"type": "java.lang.Boolean", "name": "cluster.first", "links": {}, "description": "Set on an entity if it is the first member of a cluster"}, {"type": "org.apache.brooklyn.api.entity.Entity", "name": "cluster.first.entity", "links": {}, "description": "The first member of the cluster"}, {"type": "org.apache.brooklyn.entity.webapp.DynamicWebAppCluster", "name": "controlleddynamicwebappcluster.cluster", "links": {}, "description": "Underlying web-app cluster"}, {"type": "org.apache.brooklyn.api.entity.Group", "name": "controlleddynamicwebappcluster.controlledgroup", "links": {}, "description": "The group of web servers that the controller should point at; if null, will use the CLUSTER"}, {"type": "org.apache.brooklyn.entity.proxy.LoadBalancer", "name": "controlleddynamicwebappcluster.controller", "links": {}, "description": "Controller for the cluster; if null a default will created (using controllerSpec)"}, {"type": "org.apache.brooklyn.api.entity.EntitySpec", "name": "controlleddynamicwebappcluster.controllerSpec", "links": {}, "description": "Spec for creating the controller (if one not supplied explicitly); if null an NGINX instance will be created"}, {"type": "org.apache.brooklyn.api.entity.EntitySpec", "name": "controlleddynamicwebappcluster.webClusterSpec", "links": {}, "description": "Spec for creating the cluster; if null a DynamicWebAppCluster will be created"}, {"type": "org.apache.brooklyn.core.entity.factory.ConfigurableEntityFactory", "name": "dynamiccluster.factory", "links": {}, "description": "factory (or closure) to create the web server"}, {"type": "org.apache.brooklyn.api.entity.EntitySpec", "name": "dynamiccluster.memberspec", "links": {}, "description": "Spec for web server entiites to be created"}, {"type": "java.lang.Boolean", "name": "dynamicgroup.running", "links": {}, "description": "Whether the entity is running, and will automatically update group membership"}, {"type": "java.util.Collection", "name": "group.members", "links": {}, "description": "Members of the group"}, {"type": "org.apache.brooklyn.api.entity.Entity", "name": "group.members.added", "links": {}, "description": "Entity added to group members"}, {"type": "java.lang.Integer", "name": "group.members.count", "links": {}, "description": "Number of members"}, {"type": "org.apache.brooklyn.api.entity.Entity", "name": "group.members.removed", "links": {}, "description": "Entity removed from group members"}, {"type": "java.lang.String", "name": "host.name", "links": {}, "description": "Host name"}, {"type": "java.lang.Integer", "name": "http.port", "links": {}, "description": "HTTP port"}, {"type": "java.lang.Integer", "name": "https.port", "links": {}, "description": "HTTP port (with SSL/TLS)"}, {"type": "java.lang.Boolean", "name": "service.isUp", "links": {}, "description": "Whether the service is active and availability (confirmed and monitored)"}, {"type": "org.apache.brooklyn.core.entity.lifecycle.Lifecycle", "name": "service.state", "links": {}, "description": "Actual lifecycle state of the service"}, {"type": "java.util.Set", "name": "webapp.deployedWars", "links": {}, "description": "Names of archives/contexts that are currently deployed"}, {"type": "java.util.Set", "name": "webapp.enabledProtocols", "links": {}, "description": "List of enabled protocols (e.g. http, https)"}, {"type": "org.apache.brooklyn.entity.webapp.HttpsSslConfig", "name": "webapp.https.ssl", "links": {}, "description": "SSL Configuration for HTTPS"}, {"type": "java.lang.Long", "name": "webapp.reqs.bytes.received", "links": {}, "description": "Total bytes received by the webserver"}, {"type": "java.lang.Long", "name": "webapp.reqs.bytes.sent", "links": {}, "description": "Total bytes sent by the webserver"}, {"type": "java.lang.Integer", "name": "webapp.reqs.errors", "links": {}, "description": "Request errors"}, {"type": "java.lang.Double", "name": "webapp.reqs.perSec.last", "links": {}, "description": "Reqs/sec (last datapoint)"}, {"type": "java.lang.Double", "name": "webapp.reqs.perSec.windowed", "links": {}, "description": "Reqs/sec (over time window)"}, {"type": "java.lang.Double", "name": "webapp.reqs.processingTime.fraction.last", "links": {}, "description": "Fraction of time spent processing, reported by webserver (percentage, last datapoint)"}, {"type": "java.lang.Double", "name": "webapp.reqs.processingTime.fraction.windowed", "links": {}, "description": "Fraction of time spent processing, reported by webserver (percentage, over time window)"}, {"type": "java.lang.Integer", "name": "webapp.reqs.processingTime.max", "links": {}, "description": "Max processing time for any single request, reported by webserver (millis)"}, {"type": "java.lang.Integer", "name": "webapp.reqs.processingTime.total", "links": {}, "description": "Total processing time, reported by webserver (millis)"}, {"type": "java.lang.Integer", "name": "webapp.reqs.total", "links": {}, "description": "Request count"}, {"type": "java.lang.String", "name": "webapp.url", "links": {}, "description": "URL"}], "config": [{"defaultValue": 1, "type": "java.lang.Integer", "name": "cluster.initial.size", "reconfigurable": false, "description": "Initial cluster size"}, {"type": "org.apache.brooklyn.api.entity.Group", "name": "controlleddynamicwebappcluster.controlledgroup", "reconfigurable": false, "description": "The group of web servers that the controller should point at; if null, will use the CLUSTER"}, {"type": "org.apache.brooklyn.entity.proxy.LoadBalancer", "name": "controlleddynamicwebappcluster.controller", "reconfigurable": false, "description": "Controller for the cluster; if null a default will created (using controllerSpec)"}, {"type": "org.apache.brooklyn.api.entity.EntitySpec", "name": "controlleddynamicwebappcluster.controllerSpec", "reconfigurable": false, "description": "Spec for creating the controller (if one not supplied explicitly); if null an NGINX instance will be created"}, {"type": "org.apache.brooklyn.api.entity.EntitySpec", "name": "controlleddynamicwebappcluster.webClusterSpec", "reconfigurable": false, "description": "Spec for creating the cluster; if null a DynamicWebAppCluster will be created"}, {"type": "org.apache.brooklyn.core.entity.factory.ConfigurableEntityFactory", "name": "dynamiccluster.factory", "reconfigurable": false, "description": "factory (or closure) to create the web server"}, {"type": "org.apache.brooklyn.api.entity.EntitySpec", "name": "dynamiccluster.memberspec", "reconfigurable": false, "description": "Spec for web server entiites to be created"}, {"type": "com.google.common.base.Predicate", "name": "dynamicgroup.entityfilter", "reconfigurable": false, "description": "Filter for entities which will automatically be in the group"}, {"defaultValue": "QuorumCheck[all;require=0,100.0%]", "type": "org.apache.brooklyn.util.collections.QuorumCheck", "name": "enricher.service_state.children_and_members.quorum.running", "reconfigurable": false, "description": "Problems check from children actual states (lifecycle), applied by default to members and children, not checking upness, but requiring by default that none are on-fire"}, {"defaultValue": "QuorumCheck[atLeastOne;require=1,0.0%]", "type": "org.apache.brooklyn.util.collections.QuorumCheck", "name": "enricher.service_state.children_and_members.quorum.up", "reconfigurable": false, "description": "Up check, applied by default to members, requiring at least one present and up"}, {"defaultValue": false, "type": "java.lang.Boolean", "name": "group.members.delegate", "reconfigurable": false, "description": "Deprecated: Add delegate child entities for members of the group"}, {"defaultValue": "%s", "type": "java.lang.String", "name": "group.members.delegate.nameFormat", "reconfigurable": false, "description": "Delegate members name format string (Use %s for the original entity display name)"}, {"defaultValue": "8080,18080-65535", "type": "org.apache.brooklyn.api.location.PortRange", "name": "http.port", "reconfigurable": false, "description": "HTTP port"}, {"defaultValue": "8443,18443-65535", "type": "org.apache.brooklyn.api.location.PortRange", "name": "https.port", "reconfigurable": false, "description": "HTTP port (with SSL/TLS)"}, {"defaultValue": true, "type": "java.lang.Boolean", "name": "java.check.hostname.bug", "reconfigurable": false, "description": "Check whether hostname is too long and will likely crash Javadue to bug 7089443"}, {"defaultValue": [], "type": "java.util.Set", "name": "java.opts", "reconfigurable": false, "description": "Java command line options"}, {"defaultValue": {}, "type": "java.util.Map", "name": "java.sysprops", "reconfigurable": false, "description": "Java command line system properties"}, {"defaultValue": "1.7", "type": "java.lang.String", "name": "java.version.required", "reconfigurable": false, "description": "Java version required"}, {"type": "java.util.Map", "name": "wars.by.context", "reconfigurable": false, "description": "Map of context keys (path in user-facing URL, typically without slashes) to archives (e.g. WARs by URL) to deploy, supporting file: and classpath: prefixes)"}, {"type": "java.util.List", "name": "wars.named", "reconfigurable": false, "description": "Archive files to deploy, as URL strings (supporting file: and classpath: prefixes); context (path in user-facing URL) will be inferred by name"}, {"type": "java.lang.String", "name": "wars.root", "reconfigurable": false, "description": "WAR file to deploy as the ROOT, as URL (supporting file: and classpath: prefixes)"}, {"defaultValue": ["http"], "type": "java.util.Set", "name": "webapp.enabledProtocols", "reconfigurable": false, "description": "List of enabled protocols (e.g. http, https)"}, {"type": "org.apache.brooklyn.entity.webapp.HttpsSslConfig", "name": "webapp.https.ssl", "reconfigurable": false, "description": "SSL Configuration for HTTPS"}], "description": "A cluster of load-balanced web-apps, which can be dynamically re-sized"}]}